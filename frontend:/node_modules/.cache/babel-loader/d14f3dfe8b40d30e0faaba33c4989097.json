{"ast":null,"code":"import _objectSpread from\"/Users/nikitaziburtovic/Desktop/yandex_praktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/nikitaziburtovic/Desktop/yandex_praktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Card from\"./Card\";import api from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];function handleRequest(){api.getUserData().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){return console.log(err);});}function getCards(){api.getCards().then(function(res){setCards(res);}).catch(function(err){return console.log(err);});}React.useEffect(function(){handleRequest();},[]);React.useEffect(function(){getCards();},[]);return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:props.onEditAvatar,className:\"profile__avatar\",children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__edit-view\",src:userAvatar,alt:'фото профиля'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onEditProfile,className:\"profile__edit-button opacity-button\",type:\"button\"}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__occupation\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onAddPlace,className:\"profile__add-button opacity-button\",type:\"button\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"places\",children:cards.map(function(item){return/*#__PURE__*/_jsx(Card,_objectSpread(_objectSpread({},item),{},{card:item,onCardClick:props.onCardClick}),item._id);})})]});}export default Main;","map":{"version":3,"sources":["/Users/nikitaziburtovic/Desktop/yandex_praktikum/mesto-react/src/components/Main.js"],"names":["React","Card","api","Main","props","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","handleRequest","getUserData","then","res","name","about","avatar","catch","err","console","log","getCards","useEffect","onEditAvatar","onEditProfile","onAddPlace","map","item","onCardClick","_id"],"mappings":"mSAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CACnB,oBAAgCJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8CP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA9C,qDAAOG,eAAP,qBAAwBC,kBAAxB,qBACA,qBAAoCT,KAAK,CAACK,QAAN,CAAe,EAAf,CAApC,qDAAOK,UAAP,qBAAmBC,aAAnB,qBACA,qBAA0BX,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1B,qDAAOO,KAAP,qBAAcC,QAAd,qBAEA,QAASC,CAAAA,aAAT,EAAyB,CACvBZ,GAAG,CACAa,WADH,GAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbV,WAAW,CAACU,GAAG,CAACC,IAAL,CAAX,CACAT,kBAAkB,CAACQ,GAAG,CAACE,KAAL,CAAlB,CACAR,aAAa,CAACM,GAAG,CAACG,MAAL,CAAb,CACD,CANH,EAOGC,KAPH,CAOS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EAPT,EAQD,CAED,QAASG,CAAAA,QAAT,EAAoB,CAClBvB,GAAG,CACAuB,QADH,GAEGT,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbJ,QAAQ,CAACI,GAAD,CAAR,CACD,CAJH,EAKGI,KALH,CAKS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALT,EAMD,CAEDtB,KAAK,CAAC0B,SAAN,CAAgB,UAAM,CACpBZ,aAAa,GACd,CAFD,CAEG,EAFH,EAIAd,KAAK,CAAC0B,SAAN,CAAgB,UAAM,CACpBD,QAAQ,GACT,CAFD,CAEG,EAFH,EAIA,mBACE,qCACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,YAAK,OAAO,CAAErB,KAAK,CAACuB,YAApB,CAAkC,SAAS,CAAC,iBAA5C,uBACE,YAAK,SAAS,CAAC,oBAAf,CAAoC,GAAG,CAAEjB,UAAzC,CAAqD,GAAG,CAAE,cAA1D,EADF,EADF,cAIE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,eAAd,UAA+BJ,QAA/B,EADF,cAEE,eACE,OAAO,CAAEF,KAAK,CAACwB,aADjB,CAEE,SAAS,CAAC,qCAFZ,CAGE,IAAI,CAAC,QAHP,EAFF,cAOE,UAAG,SAAS,CAAC,qBAAb,UAAoCpB,eAApC,EAPF,GAJF,cAaE,eACE,OAAO,CAAEJ,KAAK,CAACyB,UADjB,CAEE,SAAS,CAAC,oCAFZ,CAGE,IAAI,CAAC,QAHP,EAbF,GADF,cAoBE,gBAAS,SAAS,CAAC,QAAnB,UACGjB,KAAK,CAACkB,GAAN,CAAU,SAACC,IAAD,qBACT,KAAC,IAAD,gCAEMA,IAFN,MAGE,IAAI,CAAEA,IAHR,CAIE,WAAW,CAAE3B,KAAK,CAAC4B,WAJrB,GACOD,IAAI,CAACE,GADZ,CADS,EAAV,CADH,EApBF,GADF,CAiCD,CAED,cAAe9B,CAAAA,IAAf","sourcesContent":["import React from \"react\";\n\nimport Card from \"./Card\";\nimport api from \"../utils/api\";\n\nfunction Main(props) {\n  const [userName, setUserName] = React.useState('');\n  const [userDescription, setUserDescription] = React.useState('');\n  const [userAvatar, setUserAvatar] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  function handleRequest() {\n    api\n      .getUserData()\n      .then((res) => {\n        setUserName(res.name);\n        setUserDescription(res.about);\n        setUserAvatar(res.avatar);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function getCards() {\n    api\n      .getCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  React.useEffect(() => {\n    handleRequest();\n  }, []);\n\n  React.useEffect(() => {\n    getCards();\n  }, []);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div onClick={props.onEditAvatar} className=\"profile__avatar\">\n          <img className=\"profile__edit-view\" src={userAvatar} alt={'фото профиля'}/>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{userName}</h1>\n          <button\n            onClick={props.onEditProfile}\n            className=\"profile__edit-button opacity-button\"\n            type=\"button\"\n          ></button>\n          <p className=\"profile__occupation\">{userDescription}</p>\n        </div>\n        <button\n          onClick={props.onAddPlace}\n          className=\"profile__add-button opacity-button\"\n          type=\"button\"\n        ></button>\n      </section>\n      <section className=\"places\">\n        {cards.map((item) => (\n          <Card\n            key={item._id}\n            {...item}\n            card={item}\n            onCardClick={props.onCardClick}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}