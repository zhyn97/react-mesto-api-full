{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      address,\n      token\n    } = _ref;\n    this.address = address;\n    this.token = token;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка : ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    return fetch(`${this.address}/users/me`, {\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\"\n      }\n    }).then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(`${this.address}/cards`, {\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\"\n      }\n    }).then(this._checkResponse);\n  }\n\n  editUserData(name, about) {\n    return fetch(`${this.address}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this.address}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.address}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\"\n      }\n    }).then(this._checkResponse);\n  }\n\n  setLike(id) {\n    return fetch(`${this.address}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\"\n      }\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this.address}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\"\n      }\n    }).then(this._checkResponse);\n  }\n\n  newAvatar(link) {\n    return fetch(`${this.address}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        avatar: link\n      })\n    }).then(this._checkResponse);\n  }\n\n}\n\nconst api = new Api({\n  address: \"https://mesto.nomoreparties.co/v1/cohort-32\",\n  token: \"375f8480-1170-4121-a89c-9ffd6ccda63c\"\n});\nexport default api;","map":{"version":3,"sources":["/Users/nikitaziburtovic/Desktop/yandex_praktikum/mesto-react/mesto-react/src/utils/Api.js"],"names":["Api","constructor","address","token","_checkResponse","res","ok","json","Promise","reject","status","getUserData","fetch","headers","authorization","then","getCards","editUserData","name","about","method","body","JSON","stringify","addNewCard","link","deleteCard","id","setLike","deleteLike","newAvatar","avatar","api"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ address, token }) {\n    this.address = address;\n    this.token = token;\n  }\n\n  _checkResponse(res){\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка : ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    return fetch(`${this.address}/users/me`, {\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n      },\n    }).then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(`${this.address}/cards`, {\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n      },\n    }).then(this._checkResponse);\n  }\n\n  editUserData(name, about) {\n    return fetch(`${this.address}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this.address}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.address}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n      },\n    }).then(this._checkResponse);\n  }\n\n  setLike(id) {\n    return fetch(`${this.address}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n      },\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this.address}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n      },\n    }).then(this._checkResponse);\n  }\n\n  newAvatar(link) {\n    return fetch(`${this.address}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  address: \"https://mesto.nomoreparties.co/v1/cohort-32\",\n  token: \"375f8480-1170-4121-a89c-9ffd6ccda63c\",\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}