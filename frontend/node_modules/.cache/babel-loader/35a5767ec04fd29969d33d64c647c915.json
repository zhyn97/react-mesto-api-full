{"ast":null,"code":"export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nconst getJson = response => {\n  if (response.ok) {\n    return response.json();\n  }\n\n  throw new Error({\n    status: response.status\n  });\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password\n    })\n  }).then(getJson);\n};\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password\n    })\n  }).then(getJson);\n};\nexport const checkToken = token => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(getJson);\n};","map":{"version":3,"sources":["/Users/nikitaziburtovic/Desktop/yandex_praktikum/react-mesto-api-full/frontend/src/utils/auth.js"],"names":["BASE_URL","getJson","response","ok","json","Error","status","register","email","password","fetch","method","headers","body","JSON","stringify","then","authorize","checkToken","token"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,+BAAjB;;AAEP,MAAMC,OAAO,GAAIC,QAAD,IAAc;AAC5B,MAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,WAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,QAAM,IAAIC,KAAJ,CAAU;AAAEC,IAAAA,MAAM,EAAEJ,QAAQ,CAACI;AAAnB,GAAV,CAAN;AACD,CALD;;AAOA,OAAO,MAAMC,QAAQ,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC3C,SAAOC,KAAK,CAAE,GAAEV,QAAS,SAAb,EAAuB;AACjCW,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFwB;AAKjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBP,MAAAA,KAAK,EAAEA,KADY;AAEnBC,MAAAA,QAAQ,EAAEA;AAFS,KAAf;AAL2B,GAAvB,CAAL,CASJO,IATI,CASCf,OATD,CAAP;AAUD,CAXM;AAaP,OAAO,MAAMgB,SAAS,GAAG,CAACT,KAAD,EAAQC,QAAR,KAAqB;AAC5C,SAAOC,KAAK,CAAE,GAAEV,QAAS,SAAb,EAAuB;AACjCW,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFwB;AAKjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBP,MAAAA,KAAK,EAAEA,KADY;AAEnBC,MAAAA,QAAQ,EAAEA;AAFS,KAAf;AAL2B,GAAvB,CAAL,CASJO,IATI,CASCf,OATD,CAAP;AAUD,CAXM;AAaP,OAAO,MAAMiB,UAAU,GAAIC,KAAD,IAAW;AACnC,SAAOT,KAAK,CAAE,GAAEV,QAAS,WAAb,EAAyB;AACnCW,IAAAA,MAAM,EAAE,KAD2B;AAEnCC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAmB,UAASO,KAAM;AAF3B;AAF0B,GAAzB,CAAL,CAMJH,IANI,CAMCf,OAND,CAAP;AAOD,CARM","sourcesContent":["export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nconst getJson = (response) => {\n  if (response.ok) {\n    return response.json();\n  }\n  throw new Error({ status: response.status });\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  }).then(getJson);\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  }).then(getJson);\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\" : `Bearer ${token}`\n    },\n  }).then(getJson);\n};\n\n"]},"metadata":{},"sourceType":"module"}